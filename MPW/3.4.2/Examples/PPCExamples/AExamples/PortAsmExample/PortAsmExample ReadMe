PortAsm Example — Read Me First
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
This example, PAExamplePPC*, illustrates a compiler-like use of PPCAsm’s symbolic debugging
directives.

The PortAsm* tool from MicroAPL translates 68K assembly language files to PowerPC assembly
language files, which can then be assembled by PPCAsm. An important PortAsm feature is the
ability to debug the translated PowerPC application using the original 68K assembly source.
To accomplish this, PortAsm makes full use of PPCAsm’s FILE, BEGINI, ENDI, BEGINF, ENDF,
LINE, and FUNCTION directives. When the output PowerPC assembly files are assembled with
the "-sym man" option, the resulting .o files contain the symbolic information necessary
for the debugger to correlate the PowerPC output with the original 68K source. Examine the
".a.s" files in the :obj:objPPC folder and use the DumpXCOFF utility to examine the symbol
table and the line table of the XCOFF files created by PPCAsm if you are curious as to how
this is done.

A description of the types of files in each folder is below:

	:obj:info			info and setup files used by the PortAsm tools

	:obj:objPPC			translated PPC assembly files (.a.s), PowerPC object files (.a.o,
						.c.o) and .xcoff, .xlines, and .xSYM files
					
	:src				68K assembly source files (.a), resource files (.r), make files,
						and the PPC application
					
	:src:PPC_only		glue files used by PortAsm

To build the native Power Macintosh version of the example, first set the default directory
to the :src folder (that’s where the makefiles are located). The build commands are
generated by the following command:

	make -f PAExamplePPC.make PAExamplePPC

Run the example on a Power Macintosh system.

Experiment with the Colors, Random, and Sound options to get a feel for it and then try
looking at functions and stepping using the Power Mac Debugger. The source displayed is
68K! To see the translated source, change the makefile so that PPCAsm uses the "-sym on"
option instead of "-sym man".


* The PAExamplePPC example and the PortAsm tool are the property of MicroAPL, Ltd. This
example was provided courtesy of MicroAPL, Ltd. for distribution with PPCAsm on Apple’s
E.T.O. and MPW Pro products. Inquiries about the PortAsm tool should be directed to
MicroAPL, Ltd. in London, England (AppleLink: MicroAPL).
