#	DirectoryMenu - create the Directory menu
#
#	Usage:
#		DirectoryMenu directory…
#
#	DirectoryMenu creates the menu shown below. The directory… parameter
#	specifies the initial list of directories that appear in the menu.
#
#		Directory
#
#		  Show Directory
#		  Set Directory…
#		  ----------------
#		  <directory…>
#
#	
#	Copyright Apple Computer, Inc. 1987
#	All rights reserved.

Set Exit 0
DeleteMenu Directory ≥ Dev:Null
AddMenu Directory 'Show Directory' ∂
	'(Echo "The default directory is ∂n"; Directory) | Alert -s'
AddMenu Directory 'Set Directory…' ∂
	'SetDirectory `GetFileName -d  || Directory` > "{ShellDirectory}"MPW.Errors ≥ Dev:StdOut ∂
		|| Alert < "{ShellDirectory}"MPW.Errors'
AddMenu Directory '(-' ''
For directory in {"Parameters"}
	Set directory "`Files -i -f -q "{directory}" ≥ Dev:Null || Echo "{directory}"`"
	AddMenu Directory "{directory}" ∂
		'Directory "'"{directory}"'" > "{ShellDirectory}"MPW.Errors ≥ Dev:StdOut ∂
		  || Alert < "{ShellDirectory}"MPW.Errors'
End
Exit 0
