#	  DirectoryMenu - create the Directory menu
#
#	  Usage:
#			 DirectoryMenu directory…
#
#	  DirectoryMenu creates the menu shown below. The directory… parameter
#	  specifies the initial list of directories that appear in the menu.
#	  The current directory also appears in the menu, and is underlined.
#
#			 Directory
#
#					 Set Directory…
#					 ----------------
#					 <directory…>
#
#		
#	  Copyright Apple Computer, Inc. 1987
#	  All rights reserved.

Set Exit 0
DeleteMenu Directory ≥ Dev:Null
AddMenu Directory 'Set Directory…' ∂
	  '`Commando SetDirectory || Echo Set Status 0` > "{MPW}"MPW.Errors ≥ Dev:StdOut ∂
			 || Alert < "{MPW}"MPW.Errors'
AddMenu Directory '(-' ''
For directory in {"Parameters"}
	  Set directory `Files -i -f "{directory}" ≥ Dev:Null || Echo "{directory}"`
	  AddMenu Directory "{directory}" ∂
			 'Directory "'"{directory}"'" > "{MPW}"MPW.Errors ≥ Dev:StdOut ∂
					 || Alert < "{MPW}"MPW.Errors'
End
Set directory `Directory`
AddMenu Directory "{directory}"'<U' ∂
	  'Directory "'"{directory}"'" > "{MPW}"MPW.Errors ≥ Dev:StdOut ∂
			 || Alert < "{MPW}"MPW.Errors'
Exit 0
