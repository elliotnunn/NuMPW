    macro   DebugStr
    pea     LengthByte\@
    dc.w    $ABFF
    bra.s   Skip\@
LengthByte\@
    dc.b    StrEnd\@-StrStart\@
StrStart\@
    dc.b    \1
StrEnd\@
    even
Skip\@
    endm

    macro   RunPython
    pea     LengthByte\@
    dc.w    $AEEE
    bra.s   Skip\@
LengthByte\@
    dc.b    StrEnd\@-StrStart\@
StrStart\@
    dc.b    \1
StrEnd\@
    even
Skip\@
    endm

    macro   n0
    bpl.s   Dont\@
    DebugStr 'bad: n=1'
Dont\@
    endm

    macro   n1
    bmi.s   Dont\@
    DebugStr 'bad: n=0'
Dont\@
    endm

    macro   z0
    bne.s   Dont\@
    DebugStr 'bad: z=1'
Dont\@
    endm

    macro   z1
    beq.s   Dont\@
    DebugStr 'bad: z=0'
Dont\@
    endm

    macro   v0
    bvc.s   Dont\@
    DebugStr 'bad: v=1'
Dont\@
    endm

    macro   v1
    bvs.s   Dont\@
    DebugStr 'bad: v=0'
Dont\@
    endm

    macro   c0
    bcc.s   Dont\@
    DebugStr 'bad: c=1'
Dont\@
    endm

    macro   c1
    bcs.s   Dont\@
    DebugStr 'bad: c=0'
Dont\@
    endm


ApplScratch equ $A78


    DebugStr 'ADD Dn,Dn'
    move.w  #$8000,d3
    move.w  #$8000,d4
    add.w   d3,d4
    n0
    z1
    v1
    c1

    z1

    DebugStr 'ADD An,Dn'
    movea.w #$3288,a3
    move.w  #$8968,d3
    add.w   a3,d3
    n1
    z0
    v0
    c0
    cmp.w   #$bbf0,d3
    z1

;    DebugStr 'ADD (An),Dn'
;    DebugStr 'ADD (An)+,Dn'
;    DebugStr 'ADD -(An),Dn'
;    DebugStr 'ADD d(An),Dn'
;    DebugStr 'ADD d(An,Dn),Dn'
;    DebugStr 'ADD d(An,An),Dn'
;    DebugStr 'ADD ABS.W,Dn'
;    DebugStr 'ADD ABS.L,Dn'
;    DebugStr 'ADD pcrel,Dn'
;    DebugStr 'ADD pcrel(Xn),Dn'
;    DebugStr 'ADD #imm,Dn'

    DebugStr 'finished tests'
    dc.w    $A9F4